<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Duplication | myBlog</title><meta name="keywords" content="Cloud Computing"><meta name="author" content="Donald Lam,manholam8@gmail.com"><meta name="copyright" content="Donald Lam"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Cloud Storage Cost Model  Commercial cloud storage providers charge by three components:  Storage space Number of requests (e.g., PUT, GET, LIST, DELETE) Data transfer (outbound from the cloud)   Tier">
<meta property="og:type" content="article">
<meta property="og:title" content="Duplication">
<meta property="og:url" content="https://github.com/DonaldLamNL/myBlog/2023/11/25/CUHK/CSCI4180/2023-11-25-CSCI4180-Duplication/index.html">
<meta property="og:site_name" content="myBlog">
<meta property="og:description" content="Cloud Storage Cost Model  Commercial cloud storage providers charge by three components:  Storage space Number of requests (e.g., PUT, GET, LIST, DELETE) Data transfer (outbound from the cloud)   Tier">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://p.ipic.vip/ppekay.jpg">
<meta property="article:published_time" content="2023-11-24T16:00:00.000Z">
<meta property="article:modified_time" content="2023-11-24T16:00:00.000Z">
<meta property="article:author" content="Donald Lam">
<meta property="article:tag" content="Cloud Computing">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://p.ipic.vip/ppekay.jpg"><link rel="shortcut icon" href="/myBlog/img/favicon.png"><link rel="canonical" href="https://github.com/DonaldLamNL/myBlog/2023/11/25/CUHK/CSCI4180/2023-11-25-CSCI4180-Duplication/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/myBlog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/myBlog/',
  algolia: undefined,
  localSearch: {"path":"/myBlog/search.xml","preload":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Duplication',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-25 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://p.ipic.vip/5dc8z2.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/myBlog/archives/"><div class="headline">Articles</div><div class="length-num">66</div></a><a href="/myBlog/tags/"><div class="headline">Tags</div><div class="length-num">14</div></a><a href="/myBlog/categories/"><div class="headline">Categories</div><div class="length-num">14</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/myBlog/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://p.ipic.vip/ppekay.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/myBlog/">myBlog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/myBlog/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/myBlog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Duplication</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-11-24T16:00:00.000Z" title="Created 2023-11-25 00:00:00">2023-11-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-11-24T16:00:00.000Z" title="Updated 2023-11-25 00:00:00">2023-11-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/myBlog/categories/CSCI4180/">CSCI4180</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Duplication"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Cloud-Storage"><a href="#Cloud-Storage" class="headerlink" title="Cloud Storage"></a>Cloud Storage</h2><ul>
<li><p><strong>Cost Model</strong></p>
<ul>
<li><p>Commercial cloud storage providers charge by three components:</p>
<ol>
<li>Storage space</li>
<li>Number of requests (e.g., PUT, GET, LIST, DELETE)</li>
<li>Data transfer (outbound from the cloud)</li>
</ol>
</li>
<li><p>Tiered pricing model:</p>
  <font color="00A300">e.g., Amazon S3 cost for 50TB per month = 1024GB * \$0.0300 per GB + 49 * 1024GB * \$0.0295 per GB (cheaper)</font>


</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>Motivation of Dedeplication</strong> (Dropbox)<br>Before 2016, Dropbox used AWS to store the data, but the charges of Dropbox are even cheaper than that of AWS, so how does Dropbox make a profit?<br>Now, Dropbox has its own data centers but still a majority of users are free riders<br>They introduced <strong><font color="F54747">dedeplication</font></strong>, by removing the duplicated files (the content redundancy)<br><font color="3A75EA">Content Redundancy</font> &amp; <font color="3A75EA">Control/ Fault Tolerance Redundancy</font>:</p>
<ul>
<li>The deduplication here has no relation with fault tolerance, it represents the content redundancy that Dropbox may create replicas to deal with fault tolerance, but before the replications, they will remove the duplicated contents.<br><img src="https://p.ipic.vip/2fz45h.png" width="500px" /></li>
</ul>
</li>
<li><p><strong>Deduplication:</strong> An approach that eliminates redundant data on storage. Instead of storing multiple copies of data of the same content, only one copy is stored<br>  Store only one copy of chunks with same content; other chunks refer to the copy by references</p>
<p>  <img src="https://p.ipic.vip/a9dvqj.png" width="400px" /></p>
</li>
<li><p><strong><font color="3A75EA">Deduplication</font> &amp; <font color="3A75EA">Compression</font>:</strong></p>
<ul>
<li><strong>Compression</strong> reduces the amount of stored bits compared to the original data<br>  Transforms data into new representation with higher entropy (irreplaceable)</li>
<li><p><strong>Deduplication</strong> detects identical data chunks / similarities between data chunks</p>
<p>In practice, we would do the deduplication first to filter out the identical chunk and keep the unique chunk, then do the compression into some smaller size representations with high entropy.</p>
<p>Deduplication after the compression: <font color="00A300">two files with similar contents (may have many identical chunk), the compressions would change the internal similarity of those identical chunk, so the similarity of thosecompressed files is much lower which cannot perform deduplication</font>.</p>
</li>
<li><p><strong>Workflow</strong></p>
<ol>
<li>Deduplication</li>
<li>Delta compression</li>
<li>Compression</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="Deduplication"><a href="#Deduplication" class="headerlink" title="Deduplication"></a>Deduplication</h2><ul>
<li><strong>Workflow</strong><ol>
<li><strong><font color="F54747">Fingerprinting (compare by hash):</font></strong> Generate identifiers of data based on content</li>
<li><strong><font color="F54747">Chunking:</font></strong> Divide data stream into different chunks and generate <font color="3A75EA">fingerprints</font> for chunks</li>
<li><strong><font color="F54747">Indexing:</font></strong> Maintain all fingerprints of existing chunks</li>
</ol>
</li>
</ul>
<h3 id="Fingerprints"><a href="#Fingerprints" class="headerlink" title="Fingerprints"></a>Fingerprints</h3><p>Associate a chunk with some identifiers called <font color="3A75EA">fingerprint</font>.<br>By generating a hash for files to some fingerprints (the hash function should generate a fixed value for the identical content). By <font color="3A75EA">comparing the generated fingerprints</font> of two files, if their fingerprints are identical, it implies that they have a very high chance that the two files are also the same. The fingerprint comparison is much efficient than comparing two files.<br><img src="https://p.ipic.vip/qbgvu4.png" width="400px" /></p>
<h3 id="Chunking"><a href="#Chunking" class="headerlink" title="Chunking"></a>Chunking</h3><p>Dropbox does not do the fingerprinting on files, it will first split the file into multiple chunks (not directly do fingerprinting on file)<br>The purposes are to save the space as deduplications on files is not efficient (<font color="00A300">1 byte difference</font>) and save the upload bandwidth (doesn’t upload the data which is duplicated)</p>
<ul>
<li><p><strong>Imprementation</strong></p>
<ol>
<li>Every file is split up into chunks of up to 4MB</li>
<li>Apply SHA-256 to each chunk</li>
<li>Hash values are sent to Dropbox servers, and are compared to the hashes already stored</li>
<li>If a chunk doesn’t exist, upload it</li>
</ol>
</li>
<li><p><strong><font color="880ED4">Fixed-size chunking</font>:</strong> Each file is divided into equal-size chunks</p>
  <font color="00A300">When inserting something in the beginning where all the contents are shifted, fixed-size chunking will always split the file at the fixed position, all the chunks would be different, which is not suitable for deduplication if file is updated.</font>
</li>
<li><p><strong><font color="F54747">Variable-size chunking</font>:</strong> Enables adaptive boundaries on dividing data into chunks</p>
<ul>
<li>Standard for variable-size chunking: <strong><font color="F54747">Rabin-Karp Algorithm</font> or <font color="F54747">Rabin fingerprinting (RFP)</font></strong>, which is the polynomial representation of data, used for <font color="3A75EA">string pattern recognition</font><br><img src="https://p.ipic.vip/sfcp7q.png" width="500px" /></li>
</ul>
</li>
</ul>
<h3 id="Rabin-Fingerprinting"><a href="#Rabin-Fingerprinting" class="headerlink" title="Rabin Fingerprinting"></a>Rabin Fingerprinting</h3><ul>
<li><p><strong>String pattern recognition</strong><br>  <img src="https://p.ipic.vip/eiufa3.png" width="300px" /></p>
<p>  Search whether a string <code>OR</code> exists and reports its position with time complexity $O(m(n-m+1))$ (squared)<br>  <img src="https://p.ipic.vip/vb91w7.png" width="500px" /></p>
</li>
<li><p><strong>Rabin Fingerprinting</strong></p>
<ul>
<li><p>reduce <code>strncmp()</code> operations by transforming a pattern into an integer value called the fingerprint<br><img src="https://p.ipic.vip/932vr8.png" width="500px" /></p>
</li>
<li><p><strong><font color="F54747">Polynomial Representation</font></strong></p>
<p>  Let the “alphabets” in the universe contain $\{0-9\}$ only.<br>  Let the input be an array: $t = [t_1, t_2, \dots, t_m, t_{m+1}, \dots, t_n, \dots]$, where $0 \leq t_m \leq 9$</p>
<script type="math/tex; mode=display">p_s = \sum_{i=1}^m t_{s+i} \times 10^{m-i}</script><ul>
<li><p><font color="00A300">Example:</font><br>  <img src="https://p.ipic.vip/o6dd8o.png" width="300px" /></p>
</li>
<li><p>Implemented in polynomial way:</p>
<script type="math/tex; mode=display">p_s = \begin{cases}
  \sum_{i=1}^m t_{s+i} \times 10^{m-i}, & s = 0 \\\\
  10 \times (p_{s-1} - 10^{m-1} \times t_s) + t_{s+m}, & s > 0
\end{cases}</script></li>
<li>$O(m)$: to compute $p_0$</li>
<li>$O(1)$: to compute each $p_s$</li>
</ul>
</li>
<li><p><strong><font color="F54747">Modular Arithmetic</font></strong><br>  The Rabin fingerprint can be described as a polynomial with base 10 <font color="F54747">modulo q</font></p>
<script type="math/tex; mode=display">p_s = \begin{cases}
      (\sum_{i=1}^m t_{s+i} \times 10^{m-i}) \space mod \space q, & s = 0 \\\\
      (10 \times (p_{s-1} - 10^{m-1} \times t_s) + t_{s+m}) \space mod \space q, & s > 0
  \end{cases}</script><ul>
<li><p><strong>Notice: Properties of modular arithmetic</strong></p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. [(a mod n) + (b mod n)] mod n = (a + b) mod n</span><br><span class="line">2. [(a mod n) - (b mod n)] mod n = (a - b) mod n</span><br><span class="line">3. [(a mod n) x (b mod n)] mod n = (a x b) mod n</span><br></pre></td></tr></table></figure>
</li>
<li><p>With the modular arithmetic, <strong>multiple string patterns may map to the same fingerprint</strong><br>  <img src="https://p.ipic.vip/8r56o6.png" width="400px" /><br>  So we need to call <code>strncmp()</code> to <font color="3A75EA">check if the string patterns are actually identical</font> (can’t simply reply on RFP)</p>
</li>
</ul>
</li>
<li><p><strong>Summary</strong></p>
<p>  RFP is a function of $d$ and $q$,</p>
<script type="math/tex; mode=display">p_s(d,q) = \begin{cases}
      (\sum_{i=1}^m t_{s+i} \times d^{m-i}) \space mod \space q, & s = 0 \\\\
      (d \times (p_{s-1} - d^{m-1} \times t_s) + t_{s+m}) \space mod \space q, & s > 0
  \end{cases}</script><p>  $d$ defines the <font color="3A75EA">range of the possible fingerprint values</font> before taking the modulo operation. It should be a value that is <font color="F54747">larger than the largest value of the set of alphabets</font> in order to avoid unnecessary collisions.</p>
<p>  $q$ is better to choose a large value so as to minimize the number of collisions. But, don’t forget our aim: <font color="F54747">to have a reasonably large (and small) $q$</font> so that it is computationally convenient to operate on the fingerprints.</p>
</li>
</ul>
</li>
<li><p><strong>Deduplication</strong></p>
<ol>
<li>Select critical RFP value<ul>
<li>Record the positions whose RFPs are equal to the critical RFP value</li>
</ul>
</li>
<li>Select “m” as the parameter of the solution<ul>
<li>Different m gives different sets of RFPs, and different locations of the RFPs that match the critical RFP value (m affects the number of RFPs produced)</li>
</ul>
</li>
<li><p>Use the critical RFP value to divide chunks</p>
<ul>
<li>for each file, we record the patterns that match the critical RFP value</li>
</ul>
<p><img src="https://p.ipic.vip/nlkza7.png" width="400px" /></p>
</li>
</ol>
<ul>
<li>RFP is used for determining chunk boundaries<ul>
<li>The chosen set of fingerprints creates <strong><font color="F54747">anchor points</font></strong></li>
<li>It results in variable-sized chunks</li>
<li>Most importantly, it is <font color="F54747">content-dependent</font></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>Given an input data stream (a large file or an input stream to a file system)</p>
<ol>
<li><strong><font color="F54747">Chunking</font>:</strong> divide the stream into chunks<ul>
<li>Fixed-size chunks or variable-size chunks (by RFP)<br><img src="https://p.ipic.vip/lvp0xy.png" width="500px" /></li>
</ul>
</li>
<li>Generate a fingerprint for each chunk by cryptographic hash (<font color="00A300">e.g., SHA-1</font>)</li>
<li>For each chunk, check if it has been stored by checking if the fingerprint has been recorded<ul>
<li>If yes, there is no need to store the chunk, but remember the reference (location) of the chunk</li>
<li>If no, store the chunk and record the fingerprint</li>
</ul>
</li>
</ol>
<ul>
<li>Evaluation metric: Space savings are measured by <strong><font color="F54747">deduplication ratio</font></strong><ul>
<li>Raw logical data size / physical data size (higher means better)</li>
</ul>
</li>
</ul>
<p>Two key components:</p>
<ol>
<li><strong><font color="F54747">Fingerprint index:</font></strong> a key-value store that keeps track of the fingerprint and its reference</li>
<li><strong><font color="F54747">File recipe:</font></strong> a manifest file that records the fingerprints and references of all chunks for each file</li>
</ol>
<h2 id="Indexing"><a href="#Indexing" class="headerlink" title="Indexing"></a>Indexing</h2><p>Maintain all fingerprints of existing chunks</p>
<ul>
<li><p><strong>Index Structure</strong><br>  <img src="https://p.ipic.vip/7r9pot.png" width="500px" /></p>
<ul>
<li>Keep all mappings of (fingerprint, chunk address, other info)</li>
<li>Data structures: hash tables, red-black-tree, etc.<br>Similar to key-value stores <ul>
<li>key: fingerprint (to identify a chunk)</li>
<li>values: chunk address (physical location), size of chunk, how many chunks (for deletion), etc.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Write</strong></p>
<ul>
<li>If a chunk is new (cannot be deduplicated)<ul>
<li>Write the chunk to the disk</li>
<li>Add (fingerprint, chunk address) to the index structure</li>
</ul>
</li>
<li>If a chunk can be deduplicated<ul>
<li>Read the chunk address and update the chunk address in the file’s indexing structure (<font color="F54747">file recipe</font>)</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Option 1: Index Structure in RAM</strong><br>  Putting whole index structure in RAM, then it needs large amount of RAM<br>  <font color="00A300">1TB disk content</font><br>  <img src="https://p.ipic.vip/5my8fe.png" width="300px" /><br>  If we want to store 1TB disk content, we need at least 4GB of memory, which is significant</p>
</li>
<li><p><strong>Option 2: Index Structure on Disk</strong><br>  Updating each data chunk and its index keeps the disk head moving, which hurts performance<br>  <img src="https://p.ipic.vip/60oani.png" width="400px" /></p>
</li>
</ul>
<h3 id="Bloom-Filter"><a href="#Bloom-Filter" class="headerlink" title="Bloom Filter"></a>Bloom Filter</h3><p>Probabilistic data structure to decide if a key exists in a set</p>
<ul>
<li><p>2 Operations:</p>
<ol>
<li><p>Insert(key)</p>
<ul>
<li>Set bit positions $h_1(i), \dots, h_k(i)$ to $1$<br><img src="https://p.ipic.vip/yyl6ld.png" width="400px" /></li>
</ul>
</li>
<li><p>Lookup(key)</p>
<ul>
<li>Lookup(key) = false → item guaranteed not in the set</li>
<li>Lookup(key) = true → item probably in the set<br><img src="https://p.ipic.vip/sy1nrp.png" width="400px" /></li>
</ul>
</li>
</ol>
<ul>
<li><p>False positive:<br>  <img src="https://p.ipic.vip/5gm3ov.png" width="400px" /><br>  Probability thay a bit is not set after <font color="3A75EA">1</font> insert with <font color="3A75EA">k</font> hash functions:</p>
<script type="math/tex; mode=display">
  (1-\frac{1}{m})^{k}</script><p>  Probability that a bit is not set after <font color="3A75EA">n</font> inserts in a Bloom filter of size <font color="3A75EA">m</font> bits using <font color="3A75EA">k</font> hash functions:</p>
<script type="math/tex; mode=display">
  (1-\frac{1}{m})^{kn} \approx e^{-kn/m}</script><p>  Probability that a bit is set after <font color="3A75EA">n</font> inserts:</p>
<script type="math/tex; mode=display">
  1 - e^{-kn/m}</script><p>  False positive probability:</p>
<script type="math/tex; mode=display">
  f = (1-e^{-kn/m})^k</script><p>  For a given m and n, the value of k that minimizes the probability f is:</p>
<script type="math/tex; mode=display">
  k = \frac{m}{n} \ln 2</script>  <!-- $$
  \begin{align*}
  f &= (1-e^{kn/m})^k \\
  \frac{\partial f}{\partial k} &= k(1-e^{kn/m})^{k-1} \times \frac{n}{m}(1 - 1 - e^{kn/m}) = 0 \\
  \frac{kn}{m}((1-e^{kn/m})^{k-1}) &= - \frac{kn}{m}((1-e^{kn/m})^{k}) \\
  1 &= -1 + e^{kn/m} \\
  k &= \frac{m}{n} \ln 2
  \end{align*}
  $$ -->
<p>  Given fixed n and f, the minimum m is (<font color="F54747">in bits, / 8 if bytes</font>):</p>
<script type="math/tex; mode=display">
  m = - \frac{n \ln f}{(\ln 2)^2}</script></li>
<li><p>Example:<br>  <img src="https://p.ipic.vip/kr4e47.png" width="400px" /></p>
<ol>
<li>Much smaller than keeping all fingerprints in memory</li>
<li>Independent of the fingerprint size</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>Bloom Filter in Deduplication</strong></p>
<ul>
<li><p><strong>Two-level index structure</strong></p>
<ul>
<li><strong><font color="F54747">Bloom filter in memory</font></strong><br>  Check if a fingerprint has been (probably) inserted.</li>
<li><strong><font color="F54747">Full chunk index mappings on disk</font></strong><br>  Check if a fingerprint has been actually inserted</li>
</ul>
</li>
<li><p><strong>Bloom filter for fingerprints</strong></p>
<ul>
<li>Lookup(fp) = false → No chunk index lookup needed</li>
<li>Lookup(fp) = true → Lookup on disk required</li>
</ul>
<p>Idea: Whenever decide we need to do the deduplication on chunk, we first do the lookup</p>
<ul>
<li>if the lookup fingerprint is <code>false</code>, then I can guarantee that this chunk has not been stored, because if it has been stored, then the return must be <code>true</code>.</li>
<li>If the lookup fingerprint is <code>true</code>, then still need to look up the full chunk index on disk as it may be a false positive.<br>So, lookup fingerprint is <code>false</code> usually happens when a chunk is new, which is helpful when writing a lot of new chunks. However, backup have lots of redundant data and most of the redundant chunks have been stored before (not new chunk) which still need the full chunk indexing on disk. </li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Sparse-Indexing"><a href="#Sparse-Indexing" class="headerlink" title="Sparse Indexing"></a>Sparse Indexing</h3><ul>
<li><p><strong><font color="F54747">Chunk Locality:</font></strong> tendency for chunks in backup data streams to reoccur together<br>  Example: <font color="00A300">if the last time we encountered chunk A, it was surrounded by chunks B, C, and D, then the next time we encounter A (even in a different backup) it is likely that we will also encounter B, C, or D nearby</font></p>
</li>
<li><p><strong><font color="F54747">Segments</font></strong></p>
<ul>
<li>Divide data stream into chunks</li>
<li>Each segment consists of a number of chunks</li>
<li>Segment size in order of 10MB</li>
</ul>
</li>
<li><p><strong>Hooks</strong></p>
<ul>
<li>Each segment is characterized by <font color="F54747">hooks</font>, which are fingerprints of chosen chunks (<font color="00A300">e.g., Within a segment, there are 2500 chunks, sample some chunk and pick one to generate the fingerprint called hook</font>)</li>
<li>All hooks are part of in-memory index (called sparse index)</li>
<li>Metadata of a segment, including fingerprints for all chunks, isstored in a manifest</li>
</ul>
</li>
<li><p>Given an incoming segment, check the hooks in the sparse index, and identify already stored segments that are most similar (call them <font color="F54747">champions — segments with highest number of hooks in common</font>)</p>
<ul>
<li>Champions are segments with highest number of hooks in common</li>
<li>Load manifests of selected champions into memory and deduplicate chunks</li>
</ul>
</li>
</ul>
<h3 id="Extreme-Binning"><a href="#Extreme-Binning" class="headerlink" title="Extreme Binning"></a>Extreme Binning</h3><ul>
<li><p><strong><font color="F54747">File similarity</font></strong>: two backup streams share files with similar chunks</p>
  <font color="00A300">e.g., If file A has a set of chunks in one backup window, then in the next backup window, file A still contains most of the chunks</font>
</li>
<li><p>Associate one <font color="F54747">representative fingerprint</font> (the minimal fingerprint) to characterize a complete file</p>
</li>
<li><p><strong>Broder’s Theorem</strong><br>  Consider two sets S1 and S2, with H(S1) and H(S2) being the corresponding sets of hashes of the elements of S1 and S2, respectively, where H is chosen uniformly and at random from a min-wise independent family of permutations. Let min(S) denote the smallest element of the set of integers S.</p>
<script type="math/tex; mode=display">\text{Pr}[\min(H(S_1)) = \min(H(S_2))] = \frac{|S_1 \cap S_2|}{|S_1 \cup S_2|}</script></li>
<li><p><strong>Process</strong></p>
<ol>
<li>To write files (deduplication), each file is chunked and all fingerprints are calculated and find the representative fingerprint</li>
<li>If the representative fingerprint <font color="F54747">NOT</font> in primary index (cannot find similar files)<ul>
<li>Store all chunks</li>
<li>Create new bin and store all metadata</li>
</ul>
</li>
</ol>
<ul>
<li>Else<ol>
<li>Compute the SHA-1 value</li>
</ol>
<ul>
<li>If SHA-1 value for complete file <font color="F54747">is NOT</font> identical (which means some chunks may be modified)<ul>
<li>Load corresponding bin from secondary storage</li>
<li>Store all chunks <font color="F54747">not in bin</font></li>
<li>Update metadata in bin and store bin</li>
<li>Do not update the whole file hash</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Read-Performance"><a href="#Read-Performance" class="headerlink" title="Read Performance"></a>Read Performance</h2><h3 id="Fragmentation"><a href="#Fragmentation" class="headerlink" title="Fragmentation"></a>Fragmentation</h3><p>Inline deduplication: check if every new chunk can be deduplicated with any existing chunk on the write path: If chunk exists: reference it; If new: add to last write position</p>
<font color="F54747">Data is no longer sequentially stored</font>, so at restore time, <font color="F54747">many I/O seeks</font>

<p><img src="https://p.ipic.vip/3a58n6.png" width="500px" /></p>
<ul>
<li><p><strong>Offline deduplication</strong></p>
<ul>
<li>Idea: choose the older chunks to remove instead of the latest chunks. </li>
<li>In inline deduplication, it always remove the new chunk because the chunk have already been stored.</li>
<li>In offline deduplication, it can write the redundant chunks first and remove the existing duplicate chunks at the background (i.e., remove the older one), which can ensure that <font color="F54747">the latest backup is always sequentially stored</font>.<ul>
<li><font color="880ED4">Drawback: Extra I/Os on writing redundant chunks and remove redundant chunks</font>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Chunk Rearrangement</strong></p>
<ul>
<li>Similar to how disk fragmentation is resolved</li>
<li>But finding a good chunk layout is difficult because chunks are shared across disk</li>
<li><font color="880ED4">Expensive I/O</font>



</li>
</ul>
</li>
</ul>
<h4 id="Containers"><a href="#Containers" class="headerlink" title="Containers"></a>Containers</h4><ul>
<li>Deduplication often works on small-size chunks (e.g., 4KB or 8KB)</li>
<li>Chunks are grouped into containers, typically of size 4MB or 8MB</li>
<li>Containers form the basic units of read/write operations<ul>
<li>Reading a chunk → reading the whole container (<font color="880ED4">Overhead of reading the whole container is small</font>)</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>Capping</strong></p>
<ul>
<li>Container: a file that holds all chunks</li>
<li><p>Break a backup stream into segments</p>
</li>
<li><p>Idea: limit the number of old containers that a segment can refer to</p>
<ol>
<li>Break a data stream into fixed size segments (20MB)</li>
<li>Determine which chunks are already stored and in which containers</li>
<li>Choose up to T containers (threshold: capping level), ranked by how many chunks they contain, breaking ties to favor the most recent containers</li>
<li>Any duplicate chunks, if not referring to the T containers, are treated as new chunks and be added to the storage (even it is duplicated)</li>
</ol>
<p><img src="https://p.ipic.vip/uptvdx.png" width="100%" /></p>
</li>
<li><font color="880ED4">Drawback: two extra chunks copies, as there are two chunks would perform deduplications originally, but now we treat them as new chunks</font></li>
<li><font color="880ED4">Speeded up 2-6X, but consists of 8% deduplication loss</font>


</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Forward Assembly Area</strong><ul>
<li>Idea:<ul>
<li>Future knowledge of accesses can be exploited to improve both caching and prefetching</li>
<li>Restore is deterministic</li>
</ul>
</li>
<li>How it works:<ul>
<li>Prefetch next M bytes into an in-memory buffer</li>
<li>Assemble the M bytes in sequence and return it to the client</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><h3 id="Convergent-Encryption"><a href="#Convergent-Encryption" class="headerlink" title="Convergent Encryption"></a>Convergent Encryption</h3><p>For the sensitive data, we would like to encrypt them. However, if we encrypt them directly, but the encrypted files become scrambled and cannot be deduplicated</p>
<ul>
<li><p>Ideas:</p>
<ul>
<li>Encrypt on a per-chunk basis</li>
<li><p>Use hash value as the cryptographic key<br><img src="https://p.ipic.vip/5my1p5.png" width="400px" /></p>
<ul>
<li>Encryption: $C = E_{H(P)}(P)$</li>
<li>Decryption: $D_{H(P)}(C)$</li>
</ul>
</li>
<li><p>Use the key $H(P)$ to encrypt and decrypt while the key is unreverable which seems to be safe</p>
<ol>
<li>If two chunks (in plain) can be deduplicated, then after convergent encryption, they can still be deduplicated</li>
<li>The hashes are securely protected</li>
<li>Outsiders cannot decrypt the content without knowing the hashes $H(P)$</li>
</ol>
</li>
</ul>
</li>
<li><p>Notice:<br>  Suppose you know that a plaintext chunk P must be an integer from 1 to 100,000. Given a ciphertext chunk C, can you tell what is its original plaintext chunk P?</p>
<ul>
<li>Brute Force Attack: Try to encrypt different plaintext C’ to search one match the ciphertext chunk C.</li>
</ul>
</li>
<li><p><font color="F54747">Convergent encryption is vulnerable to offline brute-force dictionary attack</font></p>
<ol>
<li>Don’t use the hash as the key</li>
<li>Use a key that is deterministically derived from <font color="3A75EA">some one-way function</font> for each chunk, but looks random to outsiders</li>
</ol>
<ul>
<li><p><strong>Server-Aided Encryption</strong><br>  <img src="https://p.ipic.vip/g1uftw.png" width="400px" /></p>
<ul>
<li>Key generation: Client sends a fingerprint f to the key manager</li>
<li>Key manager generates a key K by: K = OWF(f, s), where OWF(.) is a one-way function and s is a random seed that known to the key manager only</li>
</ul>
</li>
<li><p><strong>Extensions</strong></p>
<ol>
<li>Rate-limiting key generation requests (avoid online brute-force attacks)</li>
<li>Blinded key generation: key manager can generate the key without knowing f</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="Side-Channel-Attacks"><a href="#Side-Channel-Attacks" class="headerlink" title="Side-Channel Attacks"></a>Side-Channel Attacks</h3><p>The attacker begins uploading a file and observes whether deduplication occurs. If there’s deduplication,the attacker knows the file copy exists</p>
<pre><code>- Generalized to infer file contents: performing a brute-force attack by trying all possible contents of a file
</code></pre><p>The root cause is Dropbox does the deduplication on the client side, the client will check whether the same file exists, and if yes don’t upload the file. Therefore, should do the deduplication on the cloud side to prevent the clients from observing the deduplication patterns</p>
<h3 id="DropBox-Attacks"><a href="#DropBox-Attacks" class="headerlink" title="DropBox Attacks"></a>DropBox Attacks</h3><ol>
<li><p><strong>Hash Value Manipulation Attack</strong><br> Dropbox clients reply on some third partie encryptal softwares to do the encryption, which can be replace with other softwares. Dropbox clients do not verify integrity, so the hacker can modify the software with their own fake hash value</p>
<ul>
<li><p>If the fake hash doesn’t exist on Dropbox server:</p>
<ul>
<li>Server requests the file from client</li>
<li>Nothing happens</li>
</ul>
</li>
<li><p>If the fake hash exists:</p>
<ul>
<li>Server doesn’t ask for the content</li>
<li>Instead, the server links the corresponding file/chunk to the hacker’s Dropbox account</li>
<li>Hacker can access the file/chunk which belongs to others (own the file)</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Stolen Host ID Attack</strong><br> Dropbox will assign a unique host ID (a 128-bit key) for client authentication (such that the clients can access the account without re-typing the password)</p>
<ul>
<li>If the host ID is stolen, all files of the user account can be accessed by the attacker</li>
</ul>
</li>
</ol>
<ol>
<li><p><strong>Direct Up/Download Attack</strong></p>
<ul>
<li><p><strong>Download</strong></p>
<ul>
<li>Transmission protocol is built upon HTTPS<ul>
<li>As POST data: SHA-256 value &amp; a valid host ID</li>
</ul>
</li>
</ul>
<ol>
<li>No check if chunk is linked with account! (Any valid host ID is fine!)</li>
<li>Dropbox hardly deletes any data</li>
<li>Same effect as hash manipulation attack, but less stealthy</li>
<li>Can be detected / prevented by Dropbox</li>
</ol>
</li>
<li><p><strong>Upload</strong></p>
<ul>
<li>Same as retrieval, but for storing chunks</li>
</ul>
<ol>
<li>Create Online slack space</li>
<li>Push data to other people’s Dropbox</li>
</ol>
</li>
</ul>
</li>
</ol>
<!-- 
<img src="" width="500px" />
<font color="3A75EA">Blue</font>
<font color="F54747">Red</font>
<font color="880ED4">Purple</font>
<font color="00A300">Green</font>
--></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://github.com/DonaldLamNL/myBlog">Donald Lam</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://github.com/DonaldLamNL/myBlog/2023/11/25/CUHK/CSCI4180/2023-11-25-CSCI4180-Duplication/">https://github.com/DonaldLamNL/myBlog/2023/11/25/CUHK/CSCI4180/2023-11-25-CSCI4180-Duplication/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/myBlog/tags/Cloud-Computing/">Cloud Computing</a></div><div class="post_share"><div class="social-share" data-image="https://p.ipic.vip/ppekay.jpg" data-sites="facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/myBlog/2023/11/30/CUHK/CSCI4180/2023-11-30-CSCI4180-Facebook-Photo-Storage/"><img class="prev-cover" src="https://p.ipic.vip/ppekay.jpg" onerror="onerror=null;src='/myBlog/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Facebook Photo Storage</div></div></a></div><div class="next-post pull-right"><a href="/myBlog/2023/11/13/CUHK/CSCI4180/2023-11-13-CSCI4180-Key-Value-Stores/"><img class="next-cover" src="https://p.ipic.vip/ppekay.jpg" onerror="onerror=null;src='/myBlog/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Key-Value Stores</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/myBlog/2023/09/18/CUHK/ESTR4300/2023-9-18-ESTR4300-Hadoop-Clusters-Setup/" title="Hadoop Cluster Setup"><img class="cover" src="https://p.ipic.vip/hwdr0p.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-18</div><div class="title">Hadoop Cluster Setup</div></div></a></div><div><a href="/myBlog/2023/10/15/CUHK/CSCI4180/2023-10-15-CSCI4180-MapReduce/" title="MapReduce Programming"><img class="cover" src="https://p.ipic.vip/ppekay.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-15</div><div class="title">MapReduce Programming</div></div></a></div><div><a href="/myBlog/2023/10/30/CUHK/CSCI4180/2023-10-30-CSCI4180-MapReduce-Applications/" title="MapReduce Applications"><img class="cover" src="https://p.ipic.vip/ppekay.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-30</div><div class="title">MapReduce Applications</div></div></a></div><div><a href="/myBlog/2023/11/13/CUHK/CSCI4180/2023-11-13-CSCI4180-Key-Value-Stores/" title="Key-Value Stores"><img class="cover" src="https://p.ipic.vip/ppekay.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-13</div><div class="title">Key-Value Stores</div></div></a></div><div><a href="/myBlog/2023/11/30/CUHK/CSCI4180/2023-11-30-CSCI4180-Facebook-Photo-Storage/" title="Facebook Photo Storage"><img class="cover" src="https://p.ipic.vip/ppekay.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-30</div><div class="title">Facebook Photo Storage</div></div></a></div><div><a href="/myBlog/2023/09/15/CUHK/CSCI4180/2023-9-15-CSCI4180-Hadoop/" title="Hadoop Overview"><img class="cover" src="https://p.ipic.vip/hwdr0p.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-15</div><div class="title">Hadoop Overview</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://p.ipic.vip/5dc8z2.jpeg" onerror="this.onerror=null;this.src='/myBlog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Donald Lam</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/myBlog/archives/"><div class="headline">Articles</div><div class="length-num">66</div></a><a href="/myBlog/tags/"><div class="headline">Tags</div><div class="length-num">14</div></a><a href="/myBlog/categories/"><div class="headline">Categories</div><div class="length-num">14</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://donaldlamnl.github.io/myWeb/#/home"><i></i><span>My Personal Website</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/DonaldLamNL" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:manholam8@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Cloud-Storage"><span class="toc-number">1.</span> <span class="toc-text">Cloud Storage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Deduplication"><span class="toc-number">2.</span> <span class="toc-text">Deduplication</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Fingerprints"><span class="toc-number">2.1.</span> <span class="toc-text">Fingerprints</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chunking"><span class="toc-number">2.2.</span> <span class="toc-text">Chunking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Rabin-Fingerprinting"><span class="toc-number">2.3.</span> <span class="toc-text">Rabin Fingerprinting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Summary"><span class="toc-number">2.4.</span> <span class="toc-text">Summary</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Indexing"><span class="toc-number">3.</span> <span class="toc-text">Indexing</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bloom-Filter"><span class="toc-number">3.1.</span> <span class="toc-text">Bloom Filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sparse-Indexing"><span class="toc-number">3.2.</span> <span class="toc-text">Sparse Indexing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extreme-Binning"><span class="toc-number">3.3.</span> <span class="toc-text">Extreme Binning</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Read-Performance"><span class="toc-number">4.</span> <span class="toc-text">Read Performance</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Fragmentation"><span class="toc-number">4.1.</span> <span class="toc-text">Fragmentation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Containers"><span class="toc-number">4.1.1.</span> <span class="toc-text">Containers</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security"><span class="toc-number">5.</span> <span class="toc-text">Security</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Convergent-Encryption"><span class="toc-number">5.1.</span> <span class="toc-text">Convergent Encryption</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Side-Channel-Attacks"><span class="toc-number">5.2.</span> <span class="toc-text">Side-Channel Attacks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DropBox-Attacks"><span class="toc-number">5.3.</span> <span class="toc-text">DropBox Attacks</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/02/04/CUHK/AIST4010/2024-2-4-AIST4010-Increase-dimension/" title="CNN++ (Increase Dimension)"><img src="https://p.ipic.vip/llqylk.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.jpg'" alt="CNN++ (Increase Dimension)"/></a><div class="content"><a class="title" href="/myBlog/2024/02/04/CUHK/AIST4010/2024-2-4-AIST4010-Increase-dimension/" title="CNN++ (Increase Dimension)">CNN++ (Increase Dimension)</a><time datetime="2024-02-03T16:00:00.000Z" title="Created 2024-02-04 00:00:00">2024-02-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/02/03/CUHK/AIST4010/2024-2-3-AIST4010-Model-Architectures/" title="CNN++ (Model Architectures)"><img src="https://p.ipic.vip/llqylk.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.jpg'" alt="CNN++ (Model Architectures)"/></a><div class="content"><a class="title" href="/myBlog/2024/02/03/CUHK/AIST4010/2024-2-3-AIST4010-Model-Architectures/" title="CNN++ (Model Architectures)">CNN++ (Model Architectures)</a><time datetime="2024-02-02T16:00:00.000Z" title="Created 2024-02-03 00:00:00">2024-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/01/30/CUHK/AIST4010/2024-1-30-AIST4010-Convolutional-Neural-Network/" title="Convolutional Neural Network"><img src="https://p.ipic.vip/llqylk.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.jpg'" alt="Convolutional Neural Network"/></a><div class="content"><a class="title" href="/myBlog/2024/01/30/CUHK/AIST4010/2024-1-30-AIST4010-Convolutional-Neural-Network/" title="Convolutional Neural Network">Convolutional Neural Network</a><time datetime="2024-01-29T16:00:00.000Z" title="Created 2024-01-30 00:00:00">2024-01-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/01/29/CUHK/AIST4010/2024-1-29-AIST4010-Overfitting/" title="Overfitting"><img src="https://p.ipic.vip/llqylk.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.jpg'" alt="Overfitting"/></a><div class="content"><a class="title" href="/myBlog/2024/01/29/CUHK/AIST4010/2024-1-29-AIST4010-Overfitting/" title="Overfitting">Overfitting</a><time datetime="2024-01-28T16:00:00.000Z" title="Created 2024-01-29 00:00:00">2024-01-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myBlog/2024/01/28/CUHK/AIST4010/2024-1-28-AIST4010-Neural-Network%20copy/" title="Neural Network"><img src="https://p.ipic.vip/llqylk.jpg" onerror="this.onerror=null;this.src='/myBlog/img/404.jpg'" alt="Neural Network"/></a><div class="content"><a class="title" href="/myBlog/2024/01/28/CUHK/AIST4010/2024-1-28-AIST4010-Neural-Network%20copy/" title="Neural Network">Neural Network</a><time datetime="2024-01-27T16:00:00.000Z" title="Created 2024-01-28 00:00:00">2024-01-28</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Donald Lam</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/myBlog/js/utils.js"></script><script src="/myBlog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/myBlog/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>